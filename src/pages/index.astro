---
import Layout from '../layouts/Layout.astro'
import Header from '../components/astro/header.astro'
import Hero from '../components/astro/hero.astro'
import Map from '../components/astro/map.astro'
import Footer from '../components/astro/footer.astro'
import ProductosDestacados from '../components/astro/productosDestacados.astro'
import Testimonios from '../components/astro/testimonios.astro'
import SeviciosDestacados from '../components/astro/serviciosDestacados.astro'
import { getCollection } from 'astro:content'

const destacados = await getCollection('products', product => {
  return product.data.featured === true
})

const testimonios = await getCollection('testimonios')
---

<Layout title="CompuAudio Pereira">
  <Header />
  <Hero />
  <SeviciosDestacados />
  <ProductosDestacados desta={destacados} />
  <Testimonios testimonios={testimonios} />
  <Map />
  <Footer />
</Layout>
